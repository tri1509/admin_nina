$(function () {
  var e = function () {
    (window.innerWidth > 0 ? window.innerWidth : this.screen.width) < 1199
      ? ($("#main-wrapper").attr("data-sidebartype", "mini-sidebar"),
        $("#main-wrapper").addClass("mini-sidebar"))
      : ($("#main-wrapper").attr("data-sidebartype", "full"),
        $("#main-wrapper").removeClass("mini-sidebar"));
  };
  $(window).ready(e),
    $(window).on("resize", e),
    $(".sidebartoggler").on("click", function () {
      $("#main-wrapper").toggleClass("mini-sidebar"),
        $("#main-wrapper").hasClass("mini-sidebar")
          ? ($(".sidebartoggler").prop("checked", !0),
            $("#main-wrapper").attr("data-sidebartype", "mini-sidebar"))
          : ($(".sidebartoggler").prop("checked", !1),
            $("#main-wrapper").attr("data-sidebartype", "full"));
    }),
    $(".sidebartoggler").on("click", function () {
      $("#main-wrapper").toggleClass("show-sidebar");
    }),
    $("#table-admin").DataTable({
      destroy: !0,
      dom: "lBfrtip",
      bFilter: !0,
      aLengthMenu: [
        [50, 100, 200, -1],
        [50, 100, 200, "All"],
      ],
    }),
    $("#password").on("input", function () {
      var e = $(this).val(),
        a = 0,
        t = "";
      e.length < 3 ? (t += "Cho mật khẩu d\xe0i hơn. ") : (a += 1),
        e.match(/\d/) ? (a += 1) : (t += "Bao gồm \xedt nhất một số. ");
      var r = $("#password-strength");
      a < 1
        ? (r.text("Pass qu\xe1 dễ đo\xe1n. " + t), r.css("color", "red"))
        : 1 === a
        ? (r.text("Cũng thường th\xf4i. " + t), r.css("color", "orange"))
        : (r.text("Tr\xean cả tuyệt vời. " + t), r.css("color", "green"));
    }),
    $("#password, #password_2").on("keyup", function () {
      var e = $("#alo");
      ($("#password").val() === $("#password_2").val()) &
      ($("#password").val().length > 0) &
      ($("#password_2").val().length > 0)
        ? ($("#add_user").removeAttr("disabled"),
          e.text("Qu\xe1 đỉnh").css("color", "green"))
        : ($("#add_user").attr("disabled", "disabled"),
          e.text("Chưa tr\xf9ng khớp").css("color", "red"));
    }),
    $("#project .items").slice(0, 6).show(),
    $("#load-page").on("click", function (e) {
      e.preventDefault(),
        $("#project .items:hidden").slice(0, 3).slideDown(),
        0 == $("#project .items:hidden").length &&
          $(".loading-page").fadeOut("slow");
    }),
    $("body").on("click", ".list-package li", function (e) {
      e.preventDefault();
      var a = $(this),
        t = a.attr("rel");
      $(".list-package li").removeClass("active"),
        a.addClass("active"),
        $(".content-package").removeClass("active"),
        $("#" + t).addClass("active");
    });
  var a = 1;
  ("use strict");
  setInterval(function () {
    var e = ".step" + a;
    $(".design-img img").removeClass("active"),
      $(e + " img").addClass("active"),
      6 == ++a && (a = 1);
  }, 1e3),
    $(window).scroll(function () {
      $(this).scrollTop() > 500
        ? $("#top-up").fadeIn(100)
        : $("#top-up").fadeOut(100);
    }),
    $("#top-up").click(function () {
      $("body,html").animate({ scrollTop: 0 }, 100);
    });
  $(window).bind("load", function () {
    var api = $(".peShiner").peShiner({
      api: true,
      paused: true,
      reverse: true,
      repeat: 1,
      color: "red",
    });
    api.resume();
  });
  tabsHosting = function () {
    $(".nina-nav-host").on("click", ".nav-list-item", function (e) {
      e.preventDefault();
      $(".nina-nav-host .nav-list-item").removeClass("active");
      $(this).addClass("active");
      var r = $(this).data("rel");
      $(".contents_host .tabs-content").addClass("tabs-hide");
      $("#tabs-" + r).removeClass("tabs-hide");
      $(".owl-carousel").trigger("refresh.owl.carousel");
    });
    $(".nina-nav-host .nav-list-item:first").trigger("click");
  };
  tabsHosting();
  tabsWebsite = function () {
    $(".nina-nav-web").on("click", ".nav-list-item", function (e) {
      e.preventDefault();
      $(".nina-nav-web .nav-list-item").removeClass("active");
      $(this).addClass("active");
      var r = $(this).data("rel");
      $(".contents_web .tabs-content").addClass("tabs-hide");
      $("#tabs-" + r).removeClass("tabs-hide");
    });
    $(".nina-nav-web .nav-list-item:first").trigger("click");
  };
  tabsWebsite();
  parallaxImage = function () {
    if ($(".parallax-scene-1").length) {
      var scene1 = $(".parallax-scene-1").get(0);
      var parallaxInstance1 = new Parallax(scene1);
    }
    if ($(".parallax-scene-2").length) {
      var scene2 = $(".parallax-scene-2").get(0);
      var parallaxInstance2 = new Parallax(scene2);
    }
  };
  parallaxImage();
  aweOwl = function () {
    var owl = $(".owl-carousel.owl-page");
    owl.each(function () {
      var xs_item = $(this).attr("data-xs-items");
      var md_item = $(this).attr("data-md-items");
      var lg_item = $(this).attr("data-lg-items");
      var ltg_item = $(this).attr("data-ltg-items");
      var sm_item = $(this).attr("data-sm-items");
      var margin = $(this).attr("data-margin");
      var dot = $(this).attr("data-dot");
      var nav = $(this).attr("data-nav");
      var center = $(this).attr("data-center");
      var height = $(this).attr("data-height");
      var play = $(this).attr("data-play");
      var loop = $(this).attr("data-loop");
      var animateOut = $(this).attr("data-animateOut");
      var animateIn = $(this).attr("data-animateIn");
      var autoplayTimeout = $(this).attr("data-autoplayTimeout");
      var smartSpeed = $(this).attr("data-smartSpeed");
      if (
        typeof autoplayTimeout !== typeof undefined &&
        autoplayTimeout !== false
      ) {
      } else {
        autoplayTimeout = 4000;
      }
      if (typeof smartSpeed !== typeof undefined && smartSpeed !== false) {
      } else {
        smartSpeed = 3000;
      }
      if (typeof margin !== typeof undefined && margin !== false) {
      } else {
        margin = 30;
      }
      if (typeof xs_item !== typeof undefined && xs_item !== false) {
      } else {
        xs_item = 1;
      }
      if (typeof sm_item !== typeof undefined && sm_item !== false) {
      } else {
        sm_item = 3;
      }
      if (typeof md_item !== typeof undefined && md_item !== false) {
      } else {
        md_item = 3;
      }
      if (typeof lg_item !== typeof undefined && lg_item !== false) {
      } else {
        lg_item = 3;
      }
      if (typeof ltg_item !== typeof undefined && ltg_item !== false) {
      } else {
        ltg_item = 1;
      }
      if (loop == 1) {
        loop = true;
      } else {
        loop = false;
      }
      if (dot == 1) {
        dot = true;
      } else {
        dot = false;
      }
      if (nav == 1) {
        nav = true;
      } else {
        nav = false;
      }
      if (play == 1) {
        play = true;
      } else {
        play = false;
      }
      if (center == 1) {
        center = true;
      } else {
        center = false;
      }
      if (animateOut == 0) {
        animateOut = false;
      }
      if (animateIn == 0) {
        animateIn = false;
      }
      $(this).owlCarousel({
        loop: loop,
        margin: Number(margin),
        responsiveClass: true,
        center: center,
        dots: dot,
        nav: nav,
        navText: [
          '<div class="owlleft"><svg viewBox="0 0 16000 16000" style="position:absolute;top:0;left:0;width:100%;height:100%;"><polyline class="row" points="11040,1920 4960,8000 11040,14080 "></polyline></svg></div>',
          '<div class="owlright"><svg viewBox="0 0 16000 16000" style="position:absolute;top:0;left:0;width:100%;height:100%;"><polyline class="row" points="4960,1920 11040,8000 4960,14080 "></polyline></svg></div>',
        ],
        autoplay: play,
        autoplayTimeout: 7000,
        smartSpeed: 3000,
        autoplayHoverPause: true,
        autoHeight: false,
        animateOut: animateOut,
        animateIn: animateIn,
        responsive: {
          0: { items: Number(xs_item) },
          600: { items: Number(sm_item) },
          1000: { items: Number(md_item) },
          1200: { items: Number(lg_item) },
          1400: { items: Number(ltg_item) },
        },
      });
    });
  };
  aweOwl();
});

$(document).ready(function () {
  "use strict";
  var progressPath = document.querySelector(".progress-wrap path");
  var pathLength = progressPath.getTotalLength();
  progressPath.style.transition = progressPath.style.WebkitTransition = "none";
  progressPath.style.strokeDasharray = pathLength + " " + pathLength;
  progressPath.style.strokeDashoffset = pathLength;
  progressPath.getBoundingClientRect();
  progressPath.style.transition = progressPath.style.WebkitTransition =
    "stroke-dashoffset 10ms linear";
  var updateProgress = function () {
    var scroll = $(window).scrollTop();
    var height = $(document).height() - $(window).height();
    var progress = pathLength - (scroll * pathLength) / height;
    progressPath.style.strokeDashoffset = progress;
  };
  updateProgress();
  $(window).scroll(updateProgress);
  var offset = 150;
  var duration = 550;
  $(window).on("scroll", function () {
    if ($(this).scrollTop() > offset) {
      $(".progress-wrap").addClass("active-progress");
    } else {
      $(".progress-wrap").removeClass("active-progress");
    }
  });
  $(".progress-wrap").on("click", function (event) {
    event.preventDefault();
    $("html, body").animate({ scrollTop: 0 }, duration);
    return false;
  });
});
