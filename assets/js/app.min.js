$(function () {
  var setsidebartype = function () {
    var width = window.innerWidth > 0 ? window.innerWidth : this.screen.width;
    if (width < 1199) {
      $("#main-wrapper").attr("data-sidebartype", "mini-sidebar");
      $("#main-wrapper").addClass("mini-sidebar");
    } else {
      $("#main-wrapper").attr("data-sidebartype", "full");
      $("#main-wrapper").removeClass("mini-sidebar");
    }
  };
  $(window).ready(setsidebartype);
  $(window).on("resize", setsidebartype);
  $(".sidebartoggler").on("click", function () {
    $("#main-wrapper").toggleClass("mini-sidebar");
    if ($("#main-wrapper").hasClass("mini-sidebar")) {
      $(".sidebartoggler").prop("checked", !0);
      $("#main-wrapper").attr("data-sidebartype", "mini-sidebar");
    } else {
      $(".sidebartoggler").prop("checked", !1);
      $("#main-wrapper").attr("data-sidebartype", "full");
    }
  });
  $(".sidebartoggler").on("click", function () {
    $("#main-wrapper").toggleClass("show-sidebar");
  });
  $("#table-admin").DataTable({
    destroy: true,
    dom: "lBfrtip",
    bFilter: true,
    aLengthMenu: [
      [50, 100, 200, -1],
      [50, 100, 200, "All"],
    ],
  });
  $("#password").on("input", function () {
    var password = $(this).val();
    var strength = 0;
    var tips = "";

    // Check password length
    if (password.length < 3) {
      tips += "Cho mật khẩu dài hơn. ";
    } else {
      strength += 1;
    }

    // Check for mixed case

    // if (password.match(/[a-z]/) && password.match(/[A-Z]/)) {
    //   strength += 1;
    // } else {
    //   tips += "Sử dụng cả chữ thường và chữ in hoa. ";
    // }

    // Check for numbers

    if (password.match(/\d/)) {
      strength += 1;
    } else {
      tips += "Bao gồm ít nhất một số. ";
    }

    // Check for special characters

    // if (password.match(/[^a-zA-Z\d]/)) {
    //   strength += 1;
    // } else {
    //   tips += "Bao gồm ít nhất một ký tự đặc biệt. ";
    // }

    // Update the text and color based on the password strength
    var passwordStrengthElement = $("#password-strength");
    if (strength < 1) {
      passwordStrengthElement.text("Pass quá dễ đoán. " + tips);
      passwordStrengthElement.css("color", "red");
    } else if (strength === 1) {
      passwordStrengthElement.text("Cũng thường thôi. " + tips);
      passwordStrengthElement.css("color", "orange");
    } else {
      passwordStrengthElement.text("Trên cả tuyệt vời. " + tips);
      passwordStrengthElement.css("color", "green");
    }
  });
  $("#password, #password_2").on("keyup", function () {
    var alo = $("#alo");
    if (
      ($("#password").val() === $("#password_2").val()) &
      ($("#password").val().length > 0) &
      ($("#password_2").val().length > 0)
    ) {
      $("#add_user").removeAttr("disabled");
      alo.text("Quá đỉnh").css("color", "green");
    } else {
      $("#add_user").attr("disabled", "disabled");
      alo.text("Chưa trùng khớp").css("color", "red");
    }
  });
});
